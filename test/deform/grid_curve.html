<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title></title></head><body>
<script type="module">

//#region IMPORTS
import Starter, { THREE }           from '../_lib/Starter.js';
import Util                         from '../_lib/Util.js';
import Grid                         from '../../src/primitives/Grid';
import Cylindrify                   from '../../src/deform/Cylindrify';
//#endregion

//#region MAIN
let App;
let Debug   = {};
let Ref     = {};

window.addEventListener( "load", async _=>{
    App = new Starter( { webgl2:true, grid:true } );
    App.setCamera( 0, 20, 4, [0,0.0,0] );

    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    const sGeoA = Grid.get( 2, 1, 6, 1, true, true );
    
    const deform = new Cylindrify();
    deform.apply( sGeoA.vertices );

    const gridA = Util.mesh( sGeoA.vertices, sGeoA.indices, sGeoA.normals, null, null, true );

    //gridA.position.fromArray( [-1, 0.1, 0 ] );
    
    App.add( gridA );
  
    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    App.render();
});
//#endregion

function deform_cylinder( verts ){

    new_position = character_position - vec3(0,radius,0) + Rx * vec3(0,radius+_old_position.y,0)

}

</script>
</body></html>